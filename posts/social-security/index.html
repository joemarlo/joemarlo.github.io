<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Claiming Social Security benefits</title>
<meta name="description" content="Blog for stats and visualizations">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<link rel="stylesheet" href="https://joemarlo.github.io/css/bootstrap.min.css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,300,700,400italic">
<link rel="stylesheet" href="https://joemarlo.github.io/css/font-awesome.min.css">
<link rel="stylesheet" href="https://joemarlo.github.io/css/owl.carousel.css">
<link rel="stylesheet" href="https://joemarlo.github.io/css/owl.theme.css">
<link rel="icon" href= "https://joemarlo.github.io/favicon.ico" /> 


  <link href="https://joemarlo.github.io/css/style.green.css" rel="stylesheet" id="theme-stylesheet">

 

  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  


<link href="https://joemarlo.github.io/css/custom.css" rel="stylesheet">
<link rel="shortcut icon" href="https://joemarlo.github.io/img/favicon.png">


</head>
<body>
  <div id="all">
      <div class="container-fluid">
          <div class="row row-offcanvas row-offcanvas-left">
              <div id="sidebar" class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas">
  <div class="sidebar-content">
    <h1 class="sidebar-heading"><a href="https://joemarlo.github.io">Marlo</a></h1>
    
      <p class="sidebar-p">I'm a statistics grad student @ NYU. <br> Based in New York.</p>
    
    <ul class="sidebar-menu">
      
        <li><a href="https://joemarlo.github.io/posts/">Posts</a></li>
      
        <li><a href="https://joemarlo.github.io/about/">About</a></li>
      
    </ul>
    <p class="social">
  
  
  
  
  
  
  <a href="https://www.linkedin.com/in/jmarlo" data-animate-hover="pulse" class="external">
    <i class="fa fa-linkedin"></i>
  </a>
  
  
  
  <a href="https://www.github.com/joemarlo" data-animate-hover="pulse" class="external">
    <i class="fa fa-github"></i>
  </a>
  
  
  
</p>


    <div class="copyright">
      <p class="credit">
        
          &copy;2019 Joe Marlo
        
        <br> Template by <a href="https://bootstrapious.com/free-templates" class="external">Bootstrapious.com</a>

&amp; ported to Hugo by <a href="https://github.com/kishaningithub">Kishan B</a>

      </p>
    </div>
  </div>
</div>

              
<div class="col-xs-12 col-sm-8 col-md-9 content-column white-background">
  <div class="small-navbar visible-xs">
  <button type="button" data-toggle="offcanvas" class="btn btn-ghost pull-left"> <i class="fa fa-align-left"> </i>Menu</button>
  <h1 class="small-navbar-heading"><a href="https://joemarlo.github.io">Marlo</a></h1>
</div>

  <div class="row">
    <div class="col-lg-8">
      <div class="content-column-content">
         <h1>Claiming Social Security benefits</h1>
         <p><em>For old people. Optimizing Social Security and market Monte Carlos</em>
</p>

<hr />

<h2 id="why">Why?</h2>

<ul>
<li><strong>Social Security is the <a href="source">largest source of income for most American retirees</a></strong></li>
<li><strong>Social Security is <a href="source">perpetually in the middle of a crisis</a> along with the general <a href="source">retirement savings crisis</a></strong></li>
<li><strong>Social Security is something Americans <a href="source">routinely mess up by claiming too early</a></strong></li>
</ul>

<p>There&rsquo;s surprisingly a considerable amount of interesting work studying Social Security and <a href="links">how it works</a>. At the least, though, every elgible American should understand the potential tradeoffs when they claim it. I won&rsquo;t dive into the specifics how claiming works (you can read that <a href="link">here</a>) but the least you should know that you can claim as early as age 62 and you receive an increase for each month you wait until age 70.</p>

<p>This leads to the question:</p>

<p align="center">
<font size="3">
<b>
At what age should I claim Social Security in order to recieve the most amount of money?
</b>
</font>
</p>

<p>Or more specifically:</p>

<p align="center">
<font size="3">
<b>
At what age should I claim Social Security based on how long I expect to live and, if I invest the money, what rate of return I expect to earn in the market?
</b>
</font> 
</p>

<p>This is commonly asked by financial advisors who serve the wealthy. And these advisors tend to assume it&rsquo;s best to claim early, hand that money over to the advisor, and have them invest in the market (and reap the associated fees). Longevity may be hard to estimate <a href="link">family member experience is a good place to start though</a>, but the decision between uncertain market return and guaranteed U.S. government money is much more tractable.</p>

<p>Luckily, this can be calculated and is plotted for your convenience below. To use, pick a life expectancy and expected investment return, go to the intersection and the color indicates which claim age is best. You can find more on life expetancy <a href="link">here</a> and market returns <a href="link">here</a>.</p>

<p align="center">
<img src="/img/posts/Social-Security/bestClaim.png" width=100%>
</p>

<div class="iframe_container">
  <iframe width=100% height="500" src="/img/posts/Social-Security/pltly.html" frameborder="0" allowfullscreen></iframe>
</div>

<p><br></p>

<h2 id="how-to-build-your-own">How to build your own</h2>

<ol>
<li>First build a calculator that calculates Social Security based on the <a href="https://www.ssa.gov/OP_Home/ssact/comp-ssa.htm">laws</a>, <a href="https://www.ssa.gov/OP_Home/comp2/comp2.html">IRS code</a>, and maybe recent <a href="https://www.ssa.gov/legislation/index.html#legislation">legislation</a>. Not as difficult as one would imagine if you know <a href="https://www.ssa.gov/OACT/TR/2019/">where to look</a></li>
<li>Calculate Social Security benefits for a given claim age and life expectancy</li>
<li>Discount those benefits back to age 62 as some interest rate</li>
<li>Repeat steps 2 &amp; 3 for every combination of claim age, life expectancy, and interest rate (brute force method)</li>
<li>Find the claim age that maximizes the discounted benefits for each combination of life expectancy and interest rate</li>
<li>Optional: simulate the rates with market returns</li>
</ol>

<p><br></p>

<h3 id="the-calculator">The calculator</h3>

<p>It calculates Social Security benefits for a given wage, forecasts those benefits into the future, and then discounts those benefits back into real dollars at age 62 (the earliest age to claim). If one chooses to invest their benefits, the benefits will be grown with a rate of return. Since individual Social Security benefits discontinue at time of death the benefits stop at the expected longevity (life expectancy) of the person.</p>

<p><br></p>

<h3 id="helper-functions">Helper functions</h3>

<p><br></p>

<h3 id="the-discounting-process">The discounting process</h3>

<p>We can determine the value of a series benefits by simple net present value discounted at the rate of inflation.</p>

<pre><code># calculate the NPV of a series of annual benefits 
benefits &lt;- calculate_benefits(birth.year = 1957, claim.age = 62) %&gt;% filter(Age &gt;= 62)
NPV(benefits$Benefits, inflation.rate)

# plot of NPVs by claim age
sapply(62:70, function(claim.age){
  calculate_benefits(birth.year = 1957, claim.age = claim.age) %&gt;%
    filter(Age &gt;= 62) %&gt;% 
    pull(Benefits) %&gt;%
    NPV(., inflation.rate)
}) %&gt;%
  enframe() %&gt;% 
  ggplot(aes(x = name, y = value)) +
  geom_col(fill = '#2b7551') +
  scale_x_continuous(breaks = 1:9,
                     labels = 62:70) +
  scale_y_continuous(labels = scales::dollar_format()) +
  labs(title = &quot;Net present value of SS benefits by claim age&quot;,
       x = &quot;Claim age&quot;,
       y = &quot;NPV of benefits&quot;) +
  light.theme
</code></pre>

<p align="center">
<img src="/img/posts/Social-Security/NPVs.png" width=100%>
</p>

<p>However, we want to know is if one invests their benefits and it yields a certain rate of return then how much is that series of benefits worth. We can treat the accumulation of benefits as an investment account with annual deposits and compounded growth at a given rate. Then we can take the terminal (final) value and discount it back to age 62. This will give us a single value that is an apples-to-apples comparison once we start varying the claim age.</p>

<pre><code># calculate the present value of one series of benefits, starting at age 62,
#  ending at age 100, and with an an investment return of 5%
benefits$Benefits %&gt;% 
  add_investment_return(., rate = 1.05) %&gt;%
  last(.) %&gt;%
  PV(., rate = inflation.rate, periods = 100-62)
</code></pre>

<p>Great. Now let&rsquo;s calculate this present value across various investment returns, claim ages, and longevities.</p>

<pre><code># set the investment returns, claim ages, and death ages we are interested in
inv.returns &lt;- seq(1, 1.1, by = 0.001) # this is 0-&gt;10%
claim.ages &lt;- 62:70
death.ages &lt;- 63:100

# create all combinations of investment returns, claim age, and death age
PV.grid &lt;- expand.grid(Return = inv.returns,
                       Claim.age = claim.ages,
                       Death.age = death.ages) %&gt;% as_tibble()

# calculate PV for all the combinations
PV.grid$PV &lt;-
  pmap(list(PV.grid$Return, PV.grid$Claim.age, PV.grid$Death.age),
       function(inv.return, age, death) {
         # calculate benefits then add investment return then calculate present value
         calculate_benefits(birth.year = 1957, claim.age = age) %&gt;%
           filter(Age &gt;= 62,
                  Age &lt;= death) %&gt;%
           pull(Benefits) %&gt;%
           add_investment_return(., inv.return) %&gt;%
           last(.) %&gt;%
           PV(., rate = inflation.rate, periods = death - 62)
         
       }) %&gt;% unlist()

head(PV.grid)
</code></pre>

<p>We now have present values for every combination of investment return, claim age, and longevity. What we really care about is the best claim age for a given investment return and longevity. To find this, we can take the maximum present value for a given grouping of investment return and longevity.</p>

<p>To clearly communicate these results we need a simple plot anyone can use. It should allow the user to pick a life expectancy and expected investment return, go to the intersection and see which claim age is best. A simple table will do but that might miss the bigger pattern A tile plot should do the trick.</p>

<pre><code># plot of best claim age by investment return and death age
PV.grid %&gt;%
  group_by(Return, Death.age) %&gt;%
  filter(PV == max(PV)) %&gt;%
  ggplot(aes(x = Death.age, y = Return, fill = as.factor(Claim.age))) +
  geom_tile() +
  scale_fill_brewer(name = &quot;Claim age&quot;) +
  scale_y_continuous(breaks = seq(1, 1.1, by = 0.01),
                     labels = scales::percent(0:10/100, 1)) +
  scale_x_continuous(breaks = seq(65, 100, 5)) +
  geom_text(x = 71, y = 1.06, label = &quot;Claim at age 62&quot;, color = &quot;grey50&quot;) +
  geom_text(x = 79.5, y = 1.029, label = &quot;67&quot;, color = &quot;white&quot;) +
  geom_text(x = 81.5, y = 1.028, label = &quot;68&quot;, color = &quot;white&quot;) +
  geom_text(x = 83.5, y = 1.027, label = &quot;69&quot;, color = &quot;white&quot;) +
  geom_text(x = 90, y = 1.02, label = &quot;Claim at age 70&quot;, color = &quot;white&quot;) +
  labs(title = &quot;Best age to claim Social Security to maximum lifetime benefits&quot;,
       subtitle = &quot;Based on expected longevity and investment return (if reinvesting the benefits)&quot;,
       x = &quot;Expected longevity (years)&quot;,
       y = &quot;Expected investment return&quot;) +
  light.theme +
  theme(panel.grid.major.y = element_line(color = NA))
</code></pre>

<p align="center">
<img src="/img/posts/Social-Security/bestClaimAll.png"" width=100%>
</p>

<p><br></p>

<h3 id="simulating-the-investments">Simulating the investments</h3>

<p>Using deterministic investment returns may overestimate final account balances. Simulating (i.e. Monte Carlo) investment returns will most likely just slightly reduce the expected rate of return which in and of itself does not warrant a full Monte Carlo. Where Monte Carlos do make a significant difference is when you have a sequence of withdrawals or contributions to an account. The variation of investment returns and the timing of those returns tends to have a large effect. Given we are estimating an account balance that has annual contributions, the Monte Carlo method may provide a more accurate prediction than deterministic returns.</p>

<p>Let&rsquo;s simulate a single account first. We can use the already calculated <code>Benefits</code> data frame and apply investment returns using the <code>sim_investment_return()</code> function. Doing these many times we can see how the account balances will vary over time — some perform well and others poorly.</p>

<pre><code># set seed for reproducibility
set.seed(44)

# set number of simulations, expected return, and expected volatility
n.sims &lt;- 5000
exp.return &lt;- 1.05
exp.vol &lt;- 0.1

# simulate 38 years of account balance n.sims times
replicate(n.sims,
          sim_investment_return(benefits$Benefits,
                                exp.return = exp.return,
                                exp.vol = exp.vol)) %&gt;%
  as.data.frame() %&gt;%
  as_tibble() %&gt;% 
  mutate(Age = 62:100) %&gt;% 
  pivot_longer(cols = starts_with(&quot;V&quot;)) %&gt;% 
  ggplot(aes(x = Age, y = value, group = name)) +
  geom_point(color = &quot;#2b7551&quot;, alpha = 0.05) +
  geom_line(color = &quot;#2b7551&quot;, alpha = 0.05) +
  scale_y_continuous(labels = scales::dollar_format()) +
  labs(title = paste0(&quot;Simulation of &quot;,
                      scales::comma(n.sims),
                      &quot; account balances over time&quot;),
       x = &quot;Age&quot;,
       y = &quot;Account balance&quot;) +
  light.theme
</code></pre>

<p align="center">
<img src="/img/posts/Social-Security/AccountSim.png" width=100%>
</p>

<p>Since we are calculating the present value we only care about the final ending value. And we only need one of those <code>5,000</code> values to pick for our present value calculation. We can shoot for the middle of the road by choosing the 50th percentile or a more conservative approach would be choosing the 20th percentile — that represents the value where 80% of the other values are greater than it. Let&rsquo;s do three approaches representing conservative, moderate, and aggressive expectations.</p>

<pre><code># set the percentile (quantile) we are interested in (lower percentile = more conservative)
percentile &lt;- c(0.2, 0.5, 0.8)

# calculate benefits then add investment return then calculate present value
benefits$Benefits %&gt;%
  grab_percentile_inv_return(., exp.return = exp.return, exp.vol = exp.vol,
                             n.sims = n.sims, percentile = percentile) %&gt;%
  PV(., rate = inflation.rate, periods = 100 - 62)

# calculate PV for all the combinations
sim.PV &lt;-
  pmap(list(PV.grid$Return, PV.grid$Claim.age, PV.grid$Death.age),
       function(inv.return, age, death) {
         # calculate benefits then add investment return then calculate present value
         calculate_benefits(birth.year = 1957, claim.age = age) %&gt;%
           filter(Age &gt;= 62,
                  Age &lt;= death) %&gt;%
           pull(Benefits) %&gt;%
           grab_percentile_inv_return(
             .,
             exp.return = inv.return,
             exp.vol = (inv.return - 1) * 2,
             n.sims = n.sims,
             percentile = percentile
           ) %&gt;%
           PV(., rate = inflation.rate, periods = death - 62)
       })

# convert into data frame and then add columns to sim.PV
sim.PV &lt;- data.frame(matrix(unlist(sim.PV), nrow = length(sim.PV), byrow = T))
names(sim.PV) &lt;- paste0(percentile * 100, &quot;th percentile of investment returns&quot;)
PV.grid &lt;- bind_cols(PV.grid, sim.PV)
rm(sim.PV)

# plot of best claim age by investment return and death age (all claim ages)
PV.grid %&gt;%
  select(-PV) %&gt;%
  pivot_longer(cols = contains(&quot;percentile&quot;), names_to = &quot;Percentile&quot;, values_to = &quot;PV&quot;) %&gt;% 
  group_by(Return, Death.age, Percentile) %&gt;%
  filter(PV == max(PV)) %&gt;%
  ggplot(aes(x = Death.age, y = Return, fill = as.factor(Claim.age))) +
  geom_tile() +
  scale_fill_brewer(name = &quot;Claim age&quot;) +
  scale_y_continuous(breaks = seq(1, 1.1, by = 0.01),
                     labels = scales::percent(0:10/100, 1)) +
  scale_x_continuous(breaks = seq(65, 100, 5)) +
  labs(title = &quot;Best age to claim Social Security to maximum lifetime benefits&quot;,
       subtitle = paste(&quot;Based on&quot;,
                        scales::comma(n.sims),
                        &quot;simulations per each intersection of return, longevity, and claim age&quot;),
       x = &quot;Expected longevity (years)&quot;,
       y = &quot;Expected investment return&quot;) +
  facet_wrap(~Percentile, nrow = length(percentile)) +
  light.theme +
  theme(panel.grid.major.y = element_line(color = NA),
        plot.caption = element_text(color = &quot;gray30&quot;,
                                    face = 'italic',
                                    size = 7),
        legend.position = &quot;bottom&quot;)
</code></pre>

<p align="center">
<img src="/img/posts/Social-Security/bestClaimSim.png"" width=100%>
</p>

<p><br></p>

<h3 id="caveats">Caveats</h3>

<p>Volatility assumptions
No monthly claiming</p>

<h3 id="final-thoughts">Final thoughts</h3>

<p>I find the original deterministic plot much easier to read. The trend is clear and there&rsquo;s obviously less noise. However, the takeaway from the simulated version is to lower your expections of investment return. Therefore, if you&rsquo;re going to use the deterministic version perhaps it&rsquo;s best to use a lower y value.</p>

<p>An investment return of 5% is probably a safe bet for most people. At that rate and using a life expectancy of 90 (about average for a couple currently age 62), claiming Social Security at age 70 yields the highest value.</p>

<p><strong>This post should not be misconstrued as financial advice. Financial planning is a highly personalized process and is best handled by a professional financial planner.</strong></p>

<p><em>2019 December</em><br />
<em>Find the code here: <a href="https://github.com/joemarlo/Social-Security">github.com/joemarlo/Social-Security</a></em></p>
         
      </div>
    </div>
  </div>
</div>

          </div>
      </div>
  </div>
  <script src="https://joemarlo.github.io/js/jquery.min.js"></script>
<script src="https://joemarlo.github.io/js/bootstrap.min.js"></script>
<script src="https://joemarlo.github.io/js/jquery.cookie.js"> </script>
<script src="https://joemarlo.github.io/js/ekko-lightbox.js"></script>
<script src="https://joemarlo.github.io/js/jquery.scrollTo.min.js"></script>
<script src="https://joemarlo.github.io/js/masonry.pkgd.min.js"></script>
<script src="https://joemarlo.github.io/js/imagesloaded.pkgd.min.js"></script>
<script src="https://joemarlo.github.io/js/owl.carousel.min.js"></script>
<script src="https://joemarlo.github.io/js/front.js"></script>



</body>
</html>
